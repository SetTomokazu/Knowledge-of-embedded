.. index:: 割り込み

.. _割り込み:

割り込み
===========
| マイコンがハード的に一定の条件を満たした時に発生するイベントの事である。
| このイベントによって実行される処理を割り込み処理という。
| 割り込みには優先度が存在し、同時に発生した場合は優先度が高い方を、
| またほかの割り込み処理が実行中であっても優先度が高ければその処理を中断して優先度の高い割り込み処理を実行する。
| 現行の処理を中断して割り込み処理が行われるため、
| 割り込みが発生して欲しくない処理を行う際は  :ref:`DI` をし、
| その処理が終わり次第 :ref:`EI` を行う。
| この割り込み禁止をしている時間(通称：割り禁時間)は短ければ短いほどほかの処理に与える影響が低くなるため、
| 必要最低限の処理のみを割り禁時間とするように設計する。

.. note::

    | 例えばボーレート115200bpsでUART通信を行っている場合、1バイト毎の受信完了割り込みは
    | > 1[s] * 1000[ms] * 1000[μs] / 115200 = 約8.68μs毎
    | に発生する。この時に9μs以上割り禁を行うと受信したデータをロストしてしまうことになる。

割り込みの種類
-------------------

.. index:: 例外

.. _例外:

例外
===========
| マイコンが正常動作中にマイコン的に異常を検知した場合、例外が発生する。
| 割り込みとは異なり、分かり易く表現するとマイコン自体の悲鳴である。
| CPUの動作自体によって引き起こされた事象でありつまりは自業自得である。
