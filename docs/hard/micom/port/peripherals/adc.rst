.. index:: ADC制御レジスタ
    single: AD変換; ADC制御レジスタ
    single: ADC; ADC制御レジスタ

.. _ADC制御レジスタ:

ADC制御レジスタ
==================
| マイコンに搭載されている :ref:`ADC` を制御する。

用途
------
| ハード的な異常の監視でよく見かけた。
| 電源から供給されている電圧を監視する。
| 接続先や電源が不安定になったり、故障したりするとそれ以上の故障の原因になる為、
| 電圧値を監視し異常ならば対処する。

よくあるレジスタ
------------------
| 大抵マイコンには複数のADC対応端子とそれと同数のADC制御レジスタがある。
| が、それが0から順番に1対1対応していることは少なかった。

データレジスタ
^^^^^^^^^^^^^^^^^
| 変換したAD値を格納する。
| 分解能はADCのbit数依存

AD変換方法設定レジスタ
^^^^^^^^^^^^^^^^^^^^^^^^^
| AD変換を行う方法は見かけたもので以下の通り。

タイミング
    * ソフトで指定した時
    * 別途RTCを使用し一定周期で

一度に行うAD変換回数
    * 一回だけ
    * 連続して指定した回数繰り返し多分平均をとる

AD変換ステータスレジスタ
^^^^^^^^^^^^^^^^^^^^^^^^^^
| 現在のAD変換状況を格納したレジスタ
| 取得できるステータスは以下の通り

* 未動作
* 変換中
* 完了
* 失敗
