.. index:: GPIO

.. _GPIO:

GPIO
==================
| 汎用入出力 "General-purpose input/output"の略。

機能
-------
* 入力の場合、端子の電圧値がHighかLowかを取得する
* 出力の場合、端子からHighかLowを出力する。

よくあるレジスタ
-----------------

ダイレクションレジスタ
^^^^^^^^^^^^^^^^^^^^^^^^^
| GPIOの入出力方向を指定するレジスタ。
| 大体リセット後の初期値は入力のはずである。

データレジスタ
^^^^^^^^^^^^^^^
| 出力の場合、端子から出力する値を指定するレジスタ。
| 該当するbitに0を書き込むとLow出力、1を書き込むとHigh出力となる。

リードレジスタ
^^^^^^^^^^^^^^^
| 端子が接続されている線の値を取得するレジスタ。
| 入出力どちらの時も、現在の値を取得するならこれを使用する。
| 該当するbitが0の場合Low、1の場合Highである。

.. note::
    | 出力の場合、データレジスタに設定して出力しているつもりの値と実際の値が異なる可能性がある。
    | 例えば端子を地絡させている状態でHighを出力しても端子電圧値はLowになる。
    | この場合データレジスタでは1、リードレジスタでは0となる為、どちらの値が欲しいのかを検討すること。

機能レジスタ
^^^^^^^^^^^^^
| 端子を :ref:`GPIO` として使用するか、 :ref:`ペリフェラル` として使用するかを指定するレジスタ。
