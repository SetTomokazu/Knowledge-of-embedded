.. index:: CAN通信

.. _CAN通信:

CAN通信
====================
| 細かい内容は `Wiki <https://ja.wikipedia.org/wiki/Controller_Area_Network>`_ 参照

概要
----------
| 車載マイコンが車内の情報を収集、または制御を行うために使用。
| 車内にある他のマイコンやデバイスを一つのCANバス上に接続し、
| リアルタイムで送受信を行うネットワークを構築する。
| 接続されている全てが同時に送受信を行うため、通信プロトコルがしっかりと決められている。
| その為、マイコンのペリフェラルがしてくれる範囲が非常に多い。

用語解説
----------

.. index::
    single: CAN通信; CANバス

.. _CANバス:

CANバス
^^^^^^^^^^^^
    | CAN通信を行う通信線のことでCANHiとCANLoの2線がある。
    | この2線に電位差があると1、ないと :ref:`ドミナント` となる。

.. index::
    single: CAN通信; ドミナント

.. _ドミナント:

ドミナント
^^^^^^^^^^^^^^^^^
    | ドミナント(dominant, 0)。直訳すると「優性、支配的」
    | 現在 :ref:`CANバス` が0を示している場合のこと
    | CANHiとCANLoの電位差が無い状態である。
    | つまりはCANHiとCANLoを短絡させるとドミナントになる。
    | :ref:`CANバス` 上でドミナントとリセッシブが競合するとドミナントが勝利する。

.. index::
    single: CAN通信; リセッシブ

.. _リセッシブ:

リセッシブ
^^^^^^^^^^^^^^^^^
    | リセッシブ(recessive, 1)。直訳すると「劣性」
    | 現在 :ref:`CANバス` が0を示している場合のこと
    | CANHiとCANLoの電位差がある状態である。

.. index::
    single: CAN通信; CAN途絶

.. _CAN途絶:

CAN途絶
^^^^^^^^
    | 接続されているマイコンやデバイスには一定周期でCANメッセージを送信してくるものがある。
    | その為、一定周期で送信が無かった場合、そのモジュールに何かしらの異常が発生したと検知する。
    |

.. index::
    single: CAN通信; バスオフ

.. _バスオフ:

バスオフ
^^^^^^^^^^
    | 開発対象のマイコンが :ref:`CANバス` から外れてしまった状態の事
    | CAN通信プロトコルにバスオフ検知条件の仕様がある。
    | 基本的に送信したCANメッセージが送信失敗する事が条件である。
